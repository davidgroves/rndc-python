// BIND configuration for integration testing
// Minimal config for ISC BIND9 Docker image

// RNDC key for test authentication
key "rndc-key" {
    algorithm hmac-sha256;
    secret "c2VjcmV0LWtleS1mb3ItdGVzdGluZy1vbmx5";
};

// Allow RNDC control connections
controls {
    inet 0.0.0.0 port 953 allow { any; } keys { "rndc-key"; };
};

options {
    directory "/var/cache/bind";
    listen-on { any; };
    listen-on-v6 { any; };
    allow-query { any; };
    allow-transfer { none; };
    dnssec-validation no;
    recursion yes;
};

// Test zone for integration tests
zone "test.example" {
    type primary;
    file "/etc/bind/db.test.example";
    allow-update { none; };
};

